!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["@js-sugar/date"]=e():t["@js-sugar/date"]=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{JalaaliDateTime:()=>o});var i,r=function(){function t(){}return t.toGregorian=function(t,e,i){return this.d2g(this.j2d(t,e,i))},t.div=function(t,e){return~~(t/e)},t.mod=function(t,e){return t-~~(t/e)*e},t.isValidJalaaliDate=function(t,e,i){return t>=-61&&t<=3177&&e>=1&&e<=12&&i>=1&&i<=this.jalaaliMonthLength(t,e)},t.isLeapJalaaliYear=function(t){return 0===this.jalCal(t).leap},t.jalaaliMonthLength=function(t,e){return e<=6?31:e<=11||this.isLeapJalaaliYear(t)?30:29},t.jalCal=function(t){var e,i,r,n,o,a,s=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],h=s.length,u=t+621,d=-14,l=s[0];if(t<l||t>=s[h-1])throw new Error("Invalid Jalaali year "+t);for(a=1;a<h&&(i=(e=s[a])-l,!(t<e));a+=1)d=d+8*this.div(i,33)+this.div(this.mod(i,33),4),l=e;return o=t-l,d=d+8*this.div(o,33)+this.div(this.mod(o,33)+3,4),4===this.mod(i,33)&&i-o==4&&(d+=1),n=20+d-(this.div(u,4)-this.div(3*(this.div(u,100)+1),4)-150),i-o<6&&(o=o-i+33*this.div(i+4,33)),-1===(r=this.mod(this.mod(o+1,33)-1,4))&&(r=4),{leap:r,gy:u,march:n}},t.j2d=function(t,e,i){var r=this.jalCal(t);return this.g2d(r.gy,3,r.march)+31*(e-1)-this.div(e,7)*(e-7)+i-1},t.d2j=function(t){var e,i=this.d2g(t).gy,r=i-621,n=this.jalCal(r);if((e=t-this.g2d(i,3,n.march))>=0){if(e<=185)return{jy:r,jm:1+this.div(e,31),jd:this.mod(e,31)+1};e-=186}else r-=1,e+=179,1===n.leap&&(e+=1);return{jy:r,jm:7+this.div(e,30),jd:this.mod(e,30)+1}},t.g2d=function(t,e,i){var r=this.div(1461*(t+this.div(e-8,6)+100100),4)+this.div(153*this.mod(e+9,12)+2,5)+i-34840408;return r-this.div(3*this.div(t+100100+this.div(e-8,6),100),4)+752},t.d2g=function(t){var e,i,r,n;return e=(e=4*t+139361631)+4*this.div(3*this.div(4*t+183187720,146097),4)-3908,i=5*this.div(this.mod(e,1461),4)+308,r=this.div(this.mod(i,153),5)+1,n=this.mod(this.div(i,153),12)+1,{gy:this.div(e,1461)-100100+this.div(8-n,6),gm:n,gd:r}},t.toJalaali=function(t,e,i){return"[object Date]"===Object.prototype.toString.call(t)&&(i=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),this.d2j(this.g2d(t,e,i))},t}(),n=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t){function e(e){var i=t.call(this)||this;return e&&i.set(e),i}return n(e,t),e.prototype.toGregorian=function(t){var e=r.toGregorian(t.get("year"),t.get("month"),t.get("day"));return new Date(e.gy,e.gm,e.gd,this.hour,this.minute,this.millisecond)},e.prototype.get=function(t){switch(t){case"year":return this.year;case"month":return this.month;case"day":return this.day;case"hour":return this.hour;case"minute":return this.minute;case"second":return this.second;case"ms":return this.millisecond;default:return this.toGregorian(this).getTime()}},e.prototype.set=function(t){return this.year=t.year,this.month=t.month,this.day=t.day,this.hour=t.hour,this.minute=t.minute,this.second=t.second,this.millisecond=t.millisecond,this},e.prototype.add=function(t){var i=r.toGregorian(this.year,this.month,this.day),n=new Date(i.gy,i.gm,i.gd);n.setDate(Math.abs(n.getDate()+t.days)),n.setMonth(Math.abs(n.getMonth()+t.months)),n.setFullYear(Math.abs(n.getFullYear()+t.years));var o=new e,a=r.toJalaali(n.getFullYear(),n.getMonth(),n.getDate());return o.year=a.jy,o.month=a.jm,o.day=a.jd,o.hour=this.hour,o.minute=this.minute,o.second=this.second,o.millisecond=this.millisecond,o},e.prototype.subtract=function(t){var i=r.toGregorian(this.year,this.month,this.day),n=new Date(i.gy,i.gm,i.gd);0!==t.days&&n.setDate(n.getDate()-t.days),0!==t.months&&n.setMonth(n.getMonth()-t.months),0!==t.years&&n.setFullYear(n.getFullYear()-t.years);var o=new e,a=r.toJalaali(n.getFullYear(),n.getMonth(),n.getDate());return o.year=a.jy,o.month=a.jm,o.day=a.jd,o.hour=this.hour,o.minute=this.minute,o.second=this.second,o.millisecond=this.millisecond,o},e.prototype.isAfter=function(t){var e=this.toGregorian(t),i=this.toGregorian(this);return e.getTime()>i.getTime()},e.prototype.isSameOrAfter=function(t){var e=this.toGregorian(t),i=this.toGregorian(this);return e.getTime()>=i.getTime()},e.prototype.isBefore=function(t){var e=this.toGregorian(t),i=this.toGregorian(this);return e.getTime()<i.getTime()},e.prototype.isSameOrBefore=function(t){var e=this.toGregorian(t),i=this.toGregorian(this);return e.getTime()<=i.getTime()},e.prototype.clone=function(){var t=new e;return t.year=this.year,t.month=this.month,t.day=this.day,t.hour=this.hour,t.minute=this.minute,t.second=this.second,t.millisecond=this.millisecond,t},e.prototype.format=function(t){throw new Error("Method not implemented.")},e.prototype.diff=function(t){var e=new Date(this.toGregorian(this)),i=r.toGregorian(t.get("year"),t.get("month"),t.get("day")),n=new Date(i.gy,i.gm,i.gd);return e.getTime()-n.getTime()},Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return new Date(this.toGregorian(this)).getDate()%7},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weeksInYear",{get:function(){var t=new e;t.year=this.year,t.month=12,t.day=29,this.isLeapYear&&(t.day=30);var i=new Date(this.toGregorian(t)),n=r.toGregorian(this.year,1,1),o=new Date(n.gy,n.gm,n.gd),a=i.getTime()+864e5,s=o.getTime();return Math.ceil((a-s)/6048e5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weekYear",{get:function(){var t=new Date(this.toGregorian(this)),e=r.toGregorian(this.year,1,1),i=new Date(e.gy,e.gm,e.gd),n=t.getTime()+864e5,o=i.getTime();return Math.ceil((n-o)/6048e5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLeapYear",{get:function(){return r.isLeapJalaaliYear(this.year)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quarter",{get:function(){return 1<=this.month&&this.month<=3?1:4<=this.month&&this.month<=6?2:7<=this.month&&this.month<=9?3:4},enumerable:!1,configurable:!0}),e}((function(){}));return e})()}));
//# sourceMappingURL=jalaali.bundle.js.map